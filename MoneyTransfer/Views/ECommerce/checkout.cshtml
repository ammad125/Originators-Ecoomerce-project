@model IEnumerable<MoneyTransfer.Model.Cart>

@{
    ViewBag.Title = "checkout";
    Layout = "~/Views/Shared/_LayoutECommerce.cshtml";
}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<!DOCTYPE html>
<html>

<!-- Added by HTTrack -->
<head>
    <title>Grocery Store a Ecommerce Online Shopping Category Flat Bootstrap Responsive Website Template | Checkout :: w3layouts</title>
    <!-- for-mobile-apps -->
    <meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="Grocery Store Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template,
Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design" />

    <!-- //for-mobile-apps -->
    <!--<link href="css/bootstrap.css" rel="stylesheet" type="text/css" media="all" />
    <link href="css/style.css" rel="stylesheet" type="text/css" media="all" />-->
    <!-- font-awesome icons -->
    <!--<link href="css/font-awesome.css" rel="stylesheet" type="text/css" media="all" />-->
    <!-- //font-awesome icons -->

    <link href='http://fonts.googleapis.com/css?family=Ubuntu:400,300,300italic,400italic,500,500italic,700,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic' rel='stylesheet' type='text/css'>

</head>

<body>

    @*<link rel="stylesheet" href="../../../../../../assests/css/font-awesome.min.css">*@
    <!-- New toolbar-->
    <style>
        * {
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
        }

        #success {
            margin-left: 0px;
            font-size: 20px;
            position: fixed;
            z-index: 1;
            margin-top: 50px;
            margin-bottom: 50px;
            width: 100%;
        }

        .agileits_header {
            position: fixed;
            width: 100%;
            flex-direction: row;
            position: fixed;
            z-index: 1;
        }

        .cart {
            float: right;
            color: red;
            font-weight: bold;
            font-size: 15px;
            margin: 12px 0 0 5px;
            padding: 0 4px 0 3px;
            background-color: white;
            border-radius: 10px;
        }

        #w3lDemoBar.w3l-demo-bar {
            top: 0;
            right: 0;
            bottom: 0;
            z-index: 9999;
            padding: 40px 5px;
            padding-top: 70px;
            margin-bottom: 70px;
            background: #0D1326;
            border-top-left-radius: 9px;
            border-bottom-left-radius: 9px;
        }

            #w3lDemoBar.w3l-demo-bar a {
                display: block;
                color: #e6ebff;
                text-decoration: none;
                line-height: 24px;
                opacity: .6;
                margin-bottom: 20px;
                text-align: center;
            }

            #w3lDemoBar.w3l-demo-bar span.w3l-icon {
                display: block;
            }

            #w3lDemoBar.w3l-demo-bar a:hover {
                opacity: 1;
            }

            #w3lDemoBar.w3l-demo-bar .w3l-icon svg {
                color: #e6ebff;
            }

            #w3lDemoBar.w3l-demo-bar .responsive-icons {
                margin-top: 30px;
                border-top: 1px solid #41414d;
                padding-top: 40px;
            }

            #w3lDemoBar.w3l-demo-bar .demo-btns {
                border-top: 1px solid #41414d;
                padding-top: 30px;
            }

            #w3lDemoBar.w3l-demo-bar .responsive-icons a span.fa {
                font-size: 26px;
            }

            #w3lDemoBar.w3l-demo-bar .no-margin-bottom {
                margin-bottom: 0;
            }

        .toggle-right-sidebar span {
            background: #0D1326;
            width: 50px;
            height: 50px;
            line-height: 50px;
            text-align: center;
            color: #e6ebff;
            border-radius: 50px;
            font-size: 26px;
            cursor: pointer;
            opacity: .5;
        }

        .pull-right {
            float: right;
            position: fixed;
            right: 0px;
            top: 70px;
            width: 90px;
            z-index: 99999;
            text-align: center;
        }

        /* ============================================================
            RIGHT SIDEBAR SECTION
            ============================================================ */

        #right-sidebar {
            width: 90px;
            position: fixed;
            height: 100%;
            z-index: 1000;
            right: 0px;
            top: 0;
            margin-top: 60px;
            -webkit-transition: all .5s ease-in-out;
            -moz-transition: all .5s ease-in-out;
            -o-transition: all .5s ease-in-out;
            transition: all .5s ease-in-out;
            overflow-y: auto;
        }


        /* ============================================================
            RIGHT SIDEBAR TOGGLE SECTION
            ============================================================ */

        .hide-right-bar-notifications {
            margin-right: -300px !important;
            -webkit-transition: all .3s ease-in-out;
            -moz-transition: all .3s ease-in-out;
            -o-transition: all .3s ease-in-out;
            transition: all .3s ease-in-out;
        }



        @@media (max-width: 992px) {
            #w3lDemoBar.w3l-demo-bar a.desktop-mode {
                display: none;
            }
        }

        @@media (max-width: 767px) {
            #w3lDemoBar.w3l-demo-bar a.tablet-mode {
                display: none;
            }
        }

        @@media (max-width: 568px) {
            #w3lDemoBar.w3l-demo-bar a.mobile-mode {
                display: none;
            }

            #w3lDemoBar.w3l-demo-bar .responsive-icons {
                margin-top: 0px;
                border-top: none;
                padding-top: 0px;
            }

            #right-sidebar, .pull-right {
                width: 90px;
            }

            #w3lDemoBar.w3l-demo-bar .no-margin-bottom-mobile {
                margin-bottom: 0;
            }
        }
    </style>

    <div id="right-sidebar" class="right-sidebar-notifcations nav-collapse">
        <div class="bs-example bs-example-tabs right-sidebar-tab-notification" data-example-id="togglable-tabs">

            <div class="right-sidebar-panel-content animated fadeInRight" tabindex="5003"
                 style="overflow: hidden; outline: none;">
            </div>
        </div>
    </div>

    <!-- header -->

    <div class="agileits_header">
        <div class="w3l_offers">
            <a href="products">Today's special Offers !</a>
        </div>
        <div class="w3l_search">
            <form action="#" method="post">
                <input type="text" name="Product" value="Search a product..." onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'Search a product...';}" required="">
                <input type="submit" value="">
            </form>
        </div>
        <div class="product_list_header">
            <form action="#" method="post" class="last">
                <fieldset>
                    <input type="hidden" name="cmd" value="_cart" />
                    <input type="hidden" name="display" value="1" />
                    <input type="submit" name="submit" value="View your cart" class="button" />

                    @{
                        var count = 0;
                        if (Model != null)
                        {
                            foreach (var x in Model)
                            {
                                count = x.cart;
                            }
                            <div class="cart">@count</div>
                        }
                    }

                </fieldset>
            </form>
        </div>

        <div class="w3l_header_right1">
            <h2><a href="mail">Contact Us</a></h2>
        </div>
        <div class="clearfix"> </div>
    </div>


    @* Empty cart error message *@
    @if (TempData["emptyCart"] != null)
    {
        <div class="alert alert-danger" id="success">
            <strong>Error !</strong> @TempData["emptyCart"]
        </div>
    }

    <div class="logo_products">

        <div class="logo_products">
            <div class="container" style="margin-top: -60px; width: 100%; margin-left: 85px;">
                <div class="w3ls_logo_products_left" style="margin-left: -12px;">
                    <h1><a href="index"><span>Grocery</span> Store</a></h1>
                </div>
                <div class="w3ls_logo_products_left1">
                    <ul class="special_items">
                        <li><a href="events">Events</a><i>/</i></li>
                        <li><a href="about">About Us</a><i>/</i></li>
                        <li><a href="products">Best Deals</a><i>/</i></li>
                        <li><a href="services">Services</a></li>
                    </ul>
                </div>
                <div class="w3ls_logo_products_left1">
                    <ul class="phone_email">
                        <li><i class="fa fa-phone" aria-hidden="true"></i>+923470377136</li>
                        <li><i class="fa fa-envelope-o" aria-hidden="true"></i><a href="mailto:hassaanpafkiet@gmail.com">hassaanpafkiet@gmail.com</a></li>
                    </ul>
                </div>
                <div class="clearfix"> </div>
            </div>
        </div>
        <!-- //header -->
        <!-- products-breadcrumb -->
        <div class="products-breadcrumb">
            <div class="container">
                <ul>
                    <li><i class="fa fa-home" aria-hidden="true"></i><a href="index">Home</a><span>|</span></li>
                    <li>Checkout</li>
                </ul>
            </div>
        </div>
        <!-- //products-breadcrumb -->
        <!-- banner -->
        <div class="banner">
            <div class="w3l_banner_nav_left">
                <nav class="navbar nav_bottom">

                    <!-- Brand and toggle get grouped for better mobile display -->
                    <div class="navbar-header nav_2">
                        <button type="button" class="navbar-toggle collapsed navbar-toggle1" data-toggle="collapse" data-target="#bs-megadropdown-tabs">
                            <span class="sr-only">Toggle navigation</span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </button>
                    </div>
                    <!-- Collect the nav links, forms, and other content for toggling -->
                    <div class="collapse navbar-collapse" id="bs-megadropdown-tabs">
                        <ul class="nav navbar-nav nav_1">
                            <li><a href="products">Branded Foods</a></li>
                            <li><a href="household">Households</a></li>
                            <li class="dropdown mega-dropdown active">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Veggies & Fruits<span class="caret"></span></a>
                                <div class="dropdown-menu mega-dropdown-menu w3ls_vegetables_menu">
                                    <div class="w3ls_vegetables">
                                        <ul>
                                            <li><a href="vegetables">Vegetables</a></li>
                                            <li><a href="vegetables">Fruits</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li><a href="kitchen">Kitchen</a></li>
                            <li><a href="short-codes">Short Codes</a></li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Beverages<span class="caret"></span></a>
                                <div class="dropdown-menu mega-dropdown-menu w3ls_vegetables_menu">
                                    <div class="w3ls_vegetables">
                                        <ul>
                                            <li><a href="drinks">Soft Drinks</a></li>
                                            <li><a href="drinks">Juices</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li><a href="pet">Pet Food</a></li>
                            <li class="dropdown">
                                <a href="#" class="dropdown-toggle" data-toggle="dropdown">Frozen Foods<span class="caret"></span></a>
                                <div class="dropdown-menu mega-dropdown-menu w3ls_vegetables_menu">
                                    <div class="w3ls_vegetables">
                                        <ul>
                                            <li><a href="frozen">Frozen Snacks</a></li>
                                            <li><a href="frozen">Frozen Nonveg</a></li>
                                        </ul>
                                    </div>
                                </div>
                            </li>
                            <li><a href="bread">Bread & Bakery</a></li>
                        </ul>
                    </div><!-- /.navbar-collapse -->
                </nav>
            </div>
            <div class="w3l_banner_nav_right">
                <!-- about -->

                <h3 style="margin-left: 50px; margin-top: 30px; color: red; text-align: center; font-size: 30px; font-weight: bold;">Chec<span>kout</span></h3>

                <div class="checkout-right">
                    @{
                        var num = 0;
                        if (Model != null)
                        {
                            foreach (var x in Model)
                            {
                                num = x.cart;
                            }
                        }
                        <h4 style="margin-left: 50px">Your shopping cart contains: <span>@num Products</span></h4>
                    }

                    @using (Html.BeginForm("saveData", "ECommerce", FormMethod.Post, new { id = "FormOne" }))
                    {
                        <table class="timetable_sub" style="margin: 30px 30px 30px 50px; width: 90%;">
                            <thead>
                                <tr>
                                    <th>SL No.</th>
                                    <th>Product</th>
                                    <th>Quantity</th>
                                    <th>Product Name</th>
                                    <th>Rate</th>
                                    <th>Price</th>
                                    <th>Remove</th>
                                </tr>
                            </thead>
                            <tbody>

                                @if (Model != null)
                                {
                                    int sr_no = 1;
                                    foreach (var x in Model)
                                    {
                                        <tr>
                                            <td>@sr_no</td>
                                            <td><img src="../ECom/images/@x._Product" alt="" class="img-responsive" style="width: 35px" /></td>

                                            <td class="invert">
                                                <div class="quantity">
                                                    <input type="number" min="1" max="10" value="@x.Quantity" oninput="this.value = Math.abs(this.value)" id="_quantity" @*onchange="count()"*@ class="form-input " name="countData" step="1" placeholder="1" style="color: #fff; width: 65px; height: 30px; background-color: darkcyan;">
                                                </div>
                                            </td>

                                            <td id="_name">@x.Name</td>

                                            <td id="_rate" value="@x._Rate">@x._Rate</td>

                                            <td id="_price">@x.Price</td>
                                            <td>
                                                <a href="@Url.Action("Remove", new { @x.ID })" style="font-size: 22px; color: red;"> X </a>
                                            </td>
                                        </tr>
                                        sr_no++;
                                    }
                                }
                            </tbody>
                        </table>


                              <!---728x90  comment this part --->
                        <div class="checkout-left" style="margin-left: 32px;">
                            <div class="col-md-4 checkout-left-basket">
                                <a href="index"><h4>Continue to basket</h4></a>
                                <div style="width: 110px; height: 2px; background-color: red; margin: 0 0 20px 110px;"></div>
                                <h3>Products</h3><hr />

                                <div id="products_total"></div>

                                @*@{
                                         double total = 0;
                                         if (Model != null)
                                         {
                                              foreach (var x in Model)
                                              {
                                                   total = x.Total;
                                                   <ul style="font-size: 20px">
                                                        <li>@x.Name <i>-</i> <span>&#8377;@x.Price </span></li>
                                                   </ul>
                                              }
                                         }
                                         <ul>
                                              <li>Total <i>-</i> <span id="total_bill" >&#8377;@total</span></li>
                                         </ul>
                                    }*@
                            </div>

                            <div class="col-md-8 address_form_agile">
                                <h4><u>Enter the delievery details</u></h4>

                                <section class="creditly-wrapper wthree, w3_agileits_wrapper">
                                    <div class="information-wrapper">
                                        <div class="first-row form-group">
                                            <div class="controls">
                                                <label class="control-label">Full name: </label>
                                                <input class="form-control" type="text" name="name_name" placeholder="Full name" required>
                                            </div>

                                            <div class="w3_agileits_card_number_grid_left">
                                                <div class="controls">
                                                    <label class="control-label">Mobile number:</label>

                                                    @*pattern="^\d{4}-\d{3}-\d{4}$"*@
                                                    <input class="form-control" type="text" name="number_name" placeholder="Mobile number (xxxx-xxxxxxx)" pattern="^\d{4}-\d{7}$" required>
                                                </div>
                                            </div>
                                            <div class="w3_agileits_card_number_grid_right">
                                                <div class="controls">
                                                    <label class="control-label">Email: </label>
                                                    <input class="form-control" type="email" name="email_name" placeholder="Email" required>
                                                </div>
                                            </div>
                                            <div class="clear"> </div>

                                            <div class="controls">
                                                <label class="control-label">Full Address: </label>
                                                <input class="form-control" type="text" name="city_name" placeholder="Town/City" required>
                                            </div>
                                            <div class="controls">
                                                <label class="control-label">Address type: </label>
                                                <div class="section_room_pay">
                                                    <select class="option-w3ls" style="width: 100%; color:cadetblue" name="adress_name">
                                                        <option>Office</option>
                                                        <option>Home</option>
                                                        <option>Commercial</option>
                                                    </select>
                                                </div>
                                            </div>
                                        </div>

                                        <button class="submit check_out" type="submit" style="margin-bottom: 50px;">Delivery to this Address</button>
                                    </div>
                                </section>


                            </div>
                            <!-- //about -->
                            <div class="clearfix"></div>
                    }
                </div>

                <!-- //banner -->
                <!---728x90--->
                <!-- newsletter -->
                <div style="margin-left:-300px">
                    <div class="newsletter">
                        <div class="container">
                            <div class="w3agile_newsletter_left">
                                <h3>sign up for our newsletter</h3>
                            </div>
                            <div class="w3agile_newsletter_right">
                                <form action="#" method="post">
                                    <input type="email" name="Email" value="Email" onfocus="this.value = '';" onblur="if (this.value == '') {this.value = 'Email';}" required="">
                                    <input type="submit" value="subscribe now">
                                </form>
                            </div>
                            <div class="clearfix"> </div>
                        </div>
                    </div>
                    <!-- //newsletter -->
                    <!-- footer -->
                    <div class="footer">
                        <div class="container">
                            <div class="col-md-3 w3_footer_grid">
                                <h3>information</h3>
                                <ul class="w3_footer_grid_list">
                                    <li><a href="events">Events</a></li>
                                    <li><a href="about">About Us</a></li>
                                    <li><a href="products">Best Deals</a></li>
                                    <li><a href="services">Services</a></li>
                                    <li><a href="short-codes">Short Codes</a></li>
                                </ul>
                            </div>
                            <div class="col-md-3 w3_footer_grid">
                                <h3>policy info</h3>
                                <ul class="w3_footer_grid_list">
                                    <li><a href="faqs">FAQ</a></li>
                                    <li><a href="privacy">privacy policy</a></li>
                                    <li><a href="privacy">terms of use</a></li>
                                </ul>
                            </div>
                            <div class="col-md-3 w3_footer_grid">
                                <h3>what in stores</h3>
                                <ul class="w3_footer_grid_list">
                                    <li><a href="pet">Pet Food</a></li>
                                    <li><a href="frozen">Frozen Snacks</a></li>
                                    <li><a href="kitchen">Kitchen</a></li>
                                    <li><a href="products">Branded Foods</a></li>
                                    <li><a href="household">Households</a></li>
                                </ul>
                            </div>
                            <div class="col-md-3 w3_footer_grid">
                                <h3>twitter posts</h3>
                                <ul class="w3_footer_grid_list1">
                                    <li>
                                        <label class="fa fa-twitter" aria-hidden="true"></label><i>01 day ago</i><span>
                                            Non numquam <a href="#">http://sd.ds/13jklf#</a>
                                            eius modi tempora incidunt ut labore et
                                            <a href="#">http://sd.ds/1389kjklf#</a>quo nulla.
                                        </span>
                                    </li>
                                    <li>
                                        <label class="fa fa-twitter" aria-hidden="true"></label><i>02 day ago</i><span>
                                            Con numquam <a href="#">http://fd.uf/56hfg#</a>
                                            eius modi tempora incidunt ut labore et
                                            <a href="#">http://fd.uf/56hfg#</a>quo nulla.
                                        </span>
                                    </li>
                                </ul>
                            </div>
                            <div class="clearfix"> </div>
                            <div class="agile_footer_grids">
                                <div class="col-md-3 w3_footer_grid agile_footer_grids_w3_footer">
                                    <div class="w3_footer_grid_bottom">
                                        <h4>100% secure payments</h4>
                                        <img src="../ECom/images/card.png" alt=" " class="img-responsive" />
                                    </div>
                                </div>
                                <div class="col-md-3 w3_footer_grid agile_footer_grids_w3_footer">
                                    <div class="w3_footer_grid_bottom">
                                        <h5>connect with us</h5>
                                        <ul class="agileits_social_icons">
                                            <li><a href="#" class="facebook"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
                                            <li><a href="#" class="twitter"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
                                            <li><a href="#" class="google"><i class="fa fa-google-plus" aria-hidden="true"></i></a></li>
                                            <li><a href="#" class="instagram"><i class="fa fa-instagram" aria-hidden="true"></i></a></li>
                                            <li><a href="#" class="dribbble"><i class="fa fa-dribbble" aria-hidden="true"></i></a></li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="clearfix"> </div>
                            </div>
                            <div class="wthree_footer_copy">
                                <p>© 2016 Grocery Store. All rights reserved | Design by <a href="http://w3layouts.com/">W3layouts</a></p>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- //footer -->
                <!-- js -->

                <script src="~/scripts/jquery-1.10.2.min.js"></script>
                <script>
                    $(document).ready(function () {
                        var detailsTableBody = $("#timetable_sub tbody >tr");
                        var div_productsTotal = $('#products_total');
                        ProductsTotal();

                        //onchange quantity function
                        $(document).on("input", "#_quantity", function () {

                            var $row = $(this).closest("tr");    // Find the row

                            var $name = $row.find("#_name").text(); // Find the Name
                            var $qty = $row.find("#_quantity").val(); // Find the Quantity
                            var $rate = $row.find("#_rate").text(); // Find the Rate
                            var price = $qty * $rate;
                            $row.find("#_price").html(price); // Update Price

                            var obj = {
                                Name: $name,
                                Quantity: $qty-1,
                                _Rate: $rate,
                                Price: price
                            }
                            submit(obj);

                            ProductsTotal();
                        });

                        function ProductsTotal() {
                            //Products Total Div
                            var total = 0;
                            var totalDiv = '<ul style="font-size: 20px">';
                            $("table > tbody > tr").each(function () {
                                total += parseInt($(this).find('td').eq(5).text());
                                totalDiv += '<li> ' + $(this).find('td').eq(3).text() + '<i>-</i> <span> ' + $(this).find("#_quantity").val() + 'X' + $(this).find('td').eq(4).text() + '</span></li>';
                            });
                            totalDiv += '<ul><hr/>';
                            totalDiv += '<li>Total <i>-</i> <span id="total_bill" >Rs: ' + total + '</span></li>';
                            div_productsTotal.html(totalDiv);
                        }
                    });

                    function submit(obj) {
                        $.ajax({
                            url: "/ECommerce/add",
                            method: "POST",
                            data: obj,
                            success: function (data) {
                            },
                            error: function () {
                            }
                        });
                    }
                </script>
</html>